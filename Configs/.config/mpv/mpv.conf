# High-quality video playback configuration for MPV

# Video output
vo=gpu
gpu-api=opengl
gpu-context=wayland  # Use x11 if you're not using Wayland

# Hardware decoding for performance
hwdec=auto-safe

# High-quality video playback
profile=gpu-hq
scale=ewa_lanczossharp
cscale=ewa_lanczossharp
dscale=mitchell
video-sync=display-resample
interpolation
tscale=oversample

# Reduce stuttering
vd-lavc-threads=8

# Color accuracy and HDR tone-mapping
gamut-mapping-mode=desaturate
tone-mapping=hable
tone-mapping-param=1.1
hdr-compute-peak=no
target-prim=auto
target-trc=auto

# Performance tweaks
opengl-pbo=yes
scaler-resizes-only=yes
interpolation-threshold=0.01

# Audio output
ao=pipewire
audio-format=float32
audio-samplerate=48000
audio-channels=stereo

# Resume playback
save-position-on-quit
watch-later-directory=~/.config/mpv/watch_later

# OSD and UI
osd-level=1
osd-duration=2000
osd-font='Source Sans Pro'
osd-font-size=32

# Screenshots
screenshot-format=png
screenshot-png-compression=8
screenshot-template='~/Pictures/MPV-Screenshots/%F (%P) %n'

# Subtitles
sub-auto=fuzzy
sub-file-paths=sub:subtitle:subtitles
